<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Ben Anderson (b.anderson@soton.ac.uk, @dataknut)" />


<title>NZ GREEN Grid project data processing report</title>

<script src="gridSpy1mProcessingReport_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="gridSpy1mProcessingReport_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="gridSpy1mProcessingReport_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="gridSpy1mProcessingReport_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="gridSpy1mProcessingReport_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="gridSpy1mProcessingReport_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="gridSpy1mProcessingReport_files/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="gridSpy1mProcessingReport_files/tocify-1.9.1/jquery.tocify.js"></script>
<script src="gridSpy1mProcessingReport_files/navigation-1.1/tabsets.js"></script>
<script src="gridSpy1mProcessingReport_files/navigation-1.1/codefolding.js"></script>
<link href="gridSpy1mProcessingReport_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="gridSpy1mProcessingReport_files/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">NZ GREEN Grid project data processing report</h1>
<h3 class="subtitle"><em>1 minute electricity power</em></h3>
<h4 class="author"><em>Ben Anderson (<a href="mailto:b.anderson@soton.ac.uk">b.anderson@soton.ac.uk</a>, <code>@dataknut</code>)</em></h4>
<h4 class="date"><em>Last run at: 2018-08-07 16:57:24</em></h4>

</div>



<div id="about" class="section level1">
<h1><span class="header-section-number">1</span> About</h1>
<div id="report-circulation" class="section level2">
<h2><span class="header-section-number">1.1</span> Report circulation:</h2>
<ul>
<li>Public - this report is intended to accompany the data release.</li>
</ul>
</div>
<div id="license" class="section level2">
<h2><span class="header-section-number">1.2</span> License</h2>
<p>This work is made available under the Creative Commons <a href="https://creativecommons.org/licenses/by-sa/4.0/">Attribution-ShareAlike 4.0 International (CC BY-SA 4.0) License</a>.</p>
<p>This means you are free to:</p>
<ul>
<li><em>Share</em> — copy and redistribute the material in any medium or format</li>
<li><em>Adapt</em> — remix, transform, and build upon the material for any purpose, even commercially.</li>
</ul>
<p>Under the following terms:</p>
<ul>
<li><em>Attribution</em> — You must give appropriate credit, provide a link to the license, and indicate if changes were made. You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.</li>
<li><em>ShareAlike</em> — If you remix, transform, or build upon the material, you must distribute your contributions under the same license as the original.</li>
<li><em>No additional restrictions</em> — You may not apply legal terms or technological measures that legally restrict others from doing anything the license permits.</li>
</ul>
<p><strong>Notices:</strong></p>
<ul>
<li>You do not have to comply with the license for elements of the material in the public domain or where your use is permitted by an applicable exception or limitation.</li>
<li>No warranties are given. The license may not give you all of the permissions necessary for your intended use. For example, other rights such as publicity, privacy, or moral rights may limit how you use the material. #YMMV</li>
</ul>
<p>For the avoidance of doubt and explanation of terms please refer to the full <a href="https://creativecommons.org/licenses/by-sa/4.0/">license notice</a> and <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">legal code</a>.</p>
</div>
<div id="citation" class="section level2">
<h2><span class="header-section-number">1.3</span> Citation</h2>
<p>If you wish to use any of the material from this report please cite as:</p>
<ul>
<li>Anderson, B. (2018) NZ GREEN Grid project data processing report: 1 minute electricity power, <a href="http://www.otago.ac.nz/centre-sustainability/">Centre for Sustainability</a>, University of Otago: Dunedin.</li>
</ul>
<p>This work is (c) 2018 the University of Southampton.</p>
</div>
<div id="history" class="section level2">
<h2><span class="header-section-number">1.4</span> History</h2>
<p>Code history is generally tracked via our github <a href="https://github.com/dataknut/nzGREENGridDataR">repo</a>:</p>
<ul>
<li><a href="https://github.com/dataknut/nzGREENGridDataR/commits/master/dataProcessing/gridSpy/buildGridSpy1mReport.Rmd">Report history</a></li>
<li><a href="https://github.com/dataknut/nzGREENGridDataR/issues">General issues</a></li>
</ul>
</div>
<div id="requirements" class="section level2">
<h2><span class="header-section-number">1.5</span> Requirements:</h2>
<p>This report uses data quality statistics produced when processing the original grid spy 1 minute data downloads using <a href="https://github.com/dataknut/nzGREENGridDataR/blob/master/dataProcessing/gridSpy/processGridSpy1mData.R" class="uri">https://github.com/dataknut/nzGREENGridDataR/blob/master/dataProcessing/gridSpy/processGridSpy1mData.R</a>.</p>
</div>
<div id="support" class="section level2">
<h2><span class="header-section-number">1.6</span> Support</h2>
<p>This work was supported by:</p>
<ul>
<li>The <a href="https://www.otago.ac.nz/">University of Otago</a>;</li>
<li>The <a href="https://www.southampton.ac.uk/">University of Southampton</a>;</li>
<li>The New Zealand <a href="http://www.mbie.govt.nz/">Ministry of Business, Innovation and Employment (MBIE)</a> through the <a href="https://www.otago.ac.nz/centre-sustainability/research/energy/otago050285.html">NZ GREEN Grid</a> project;</li>
<li><a href="http://www.energy.soton.ac.uk/tag/spatialec/">SPATIALEC</a> - a <a href="http://ec.europa.eu/research/mariecurieactions/about-msca/actions/if/index_en.htm">Marie Skłodowska-Curie Global Fellowship</a> based at the University of Otago’s <a href="http://www.otago.ac.nz/centre-sustainability/staff/otago673896.html">Centre for Sustainability</a> (2017-2019) &amp; the University of Southampton’s Sustainable Energy Research Group (2019-202).</li>
</ul>

</div>
</div>
<div id="introduction" class="section level1">
<h1><span class="header-section-number">2</span> Introduction</h1>
<p>The NZ GREEN Grid project recruited a sample of <a href="ggOverviewReport.html">c 25 households in each of two regions of New Zealand</a>. The first sample was recruited in early 2014 and the second in early 2015. Research data includes:</p>
<ul>
<li>1 minute electricity power (W) data was collected for each dwelling circuit using <a href="https://gridspy.com/">gridSpy</a> monitors on each power circuit (and the incoming power). The power values represent mean(W) over the minute preceeding the observation timestamp. See - <a href="gridSpy1mProcessingReport.html">gridSpy1mProcessingReport</a>;</li>
<li>Dwelling &amp; appliance surveys. See - <a href="surveyProcessingReport.html">surveyProcessingReport</a>;</li>
<li>Occupant time-use diaries (focused on energy use).</li>
</ul>
<p>This report provides summary data quality statistics for the original GREEN grid Grid Spy household power demand monitoring data. This data was used to create a derived ‘safe’ dataset using the code in the <a href="https://github.com/dataknut/nzGREENGridDataR">nzGREENGridDataR</a> repository.</p>
</div>
<div id="original-data-quality-checks" class="section level1">
<h1><span class="header-section-number">3</span> Original Data: Quality checks</h1>
<p>The original data files files are stored on the University of Otago’s High-Capacity Central File Storage <a href="https://www.otago.ac.nz/its/services/hosting/otago068353.html">HCS</a>. The data used to generate this report was loaded from:</p>
<ul>
<li>/Volumes/hum-csafe/Research Projects/GREEN Grid/_RAW DATA/GridSpyData/</li>
</ul>
<p>Data collection is ongoing and this section reports on the availability of data files collected up to the time at which the most recent safe file was created (2018-08-02 18:03:19).</p>
<p>To date we have 25,148 files from 44 unique grid spy IDs.</p>
<p>However a large number of files (14,929 or 59%) have 1 of two file sizes (43 or 2751 bytes) and we have determined that they contain no data as the monitoring devices have either been removed (households have moved or withdrawn from the study) or data transfer has failed. We therefore flag these files as ‘to be ignored’.</p>
<p>In addition two of the grid spy units <a href="ggOverviewReport.html#3_study_recruitment">were re-used in new households</a> following withdrawl of the original participants. The grid spy IDs (rf_XX) remained unchanged despite allocation to different households. The original input data does not therefore distinguish between these households and we discuss how this is resolved in the clean safe data in Section @ref(reallocation) below.</p>
<div id="input-data-file-quality-checks" class="section level2">
<h2><span class="header-section-number">3.1</span> Input data file quality checks</h2>
<p>The following chart shows the distribution of the file sizes of <em>all</em> files over time by grid spy ID. Note that white indicates the presence of small files which may not contain observations.</p>
<p><img src="gridSpy1mProcessingReport_files/figure-html/allFileSizesPlot-1.png" /><!-- --></p>
<pre><code>## Saving 7 x 5 in image</code></pre>
<p>As we can see, relatively large files were donwloaded (manually) in June and October 2016 before an automated download process was implemented from January 2017. A final manual download appears to have taken place in early December 2017.</p>
<p>The following chart shows the same analysis but <em>excludes</em> files which do not meet the file size threshold and which we therefore assume do not contain data.</p>
<p><img src="gridSpy1mProcessingReport_files/figure-html/loadedFileSizesPlot-1.png" /><!-- --></p>
<pre><code>## Saving 7 x 5 in image</code></pre>
<p>As we can see this removes a large number of the autmatically downloaded files.</p>
</div>
<div id="input-date-format-checks" class="section level2">
<h2><span class="header-section-number">3.2</span> Input date format checks</h2>
<p>As noted above, the original data was downloaded in two ways:</p>
<ul>
<li>Manual download of large samples of data. In this case the dateTime of the observation appears to have been stored in NZ time and appears also to have varying dateTime formats (d/m/y, y/m/d etc);</li>
<li>Automatic download of daily data. In this case the dateTime of the observation is stored as UTC</li>
</ul>
<p>Resolving and cleaning these variations and uncertainties have required substantial effort and in some cases the date has had to be inferred from the file names.</p>
<p>The following table lists up to 10 of the ‘date NZ’ files which are set by default - do they look OK to assume the default dateFormat? Compare the file names with the dateExample…</p>
<pre class="r"><code># list default files with NZ time
aList &lt;- fListCompleteDT[dateColName == &quot;date NZ&quot; &amp; dateFormat %like% &quot;default&quot;, 
                         .(file, fSize, dateColName, dateExample, dateFormat)]

cap &lt;- paste0(&quot;First 10 (max) of &quot;, nrow(aList), 
              &quot; files with dateColName = &#39;date NZ&#39; and default dateFormat&quot;)

knitr::kable(caption = cap, head(aList))</code></pre>
<table style="width:100%;">
<colgroup>
<col width="30%" />
<col width="8%" />
<col width="11%" />
<col width="11%" />
<col width="38%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">file</th>
<th align="right">fSize</th>
<th align="left">dateColName</th>
<th align="left">dateExample</th>
<th align="left">dateFormat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">rf_01/1Jan2014-24May2014at1.csv</td>
<td align="right">6255737</td>
<td align="left">date NZ</td>
<td align="left">2014-01-06</td>
<td align="left">ymd - default (but day/month value &lt;= 12)</td>
</tr>
<tr class="even">
<td align="left">rf_02/1Jan2014-24May2014at1.csv</td>
<td align="right">6131625</td>
<td align="left">date NZ</td>
<td align="left">2014-03-03</td>
<td align="left">ymd - default (but day/month value &lt;= 12)</td>
</tr>
<tr class="odd">
<td align="left">rf_06/24May2014-24May2015at1.csv</td>
<td align="right">19398444</td>
<td align="left">date NZ</td>
<td align="left">2014-06-09</td>
<td align="left">ymd - default (but day/month value &lt;= 12)</td>
</tr>
<tr class="even">
<td align="left">rf_10/24May2014-24May2015at1.csv</td>
<td align="right">24386048</td>
<td align="left">date NZ</td>
<td align="left">2014-07-09</td>
<td align="left">ymd - default (but day/month value &lt;= 12)</td>
</tr>
<tr class="odd">
<td align="left">rf_11/24May2014-24May2015at1.csv</td>
<td align="right">23693893</td>
<td align="left">date NZ</td>
<td align="left">2014-07-08</td>
<td align="left">ymd - default (but day/month value &lt;= 12)</td>
</tr>
<tr class="even">
<td align="left">rf_12/24May2014-24May2015at1.csv</td>
<td align="right">21191785</td>
<td align="left">date NZ</td>
<td align="left">2014-07-09</td>
<td align="left">ymd - default (but day/month value &lt;= 12)</td>
</tr>
</tbody>
</table>
<p>The following table lists up to 10 of the ‘date UTC’ files which are set by default - do they look OK to assume the default dateFormat? Compare the file names with the dateExample…</p>
<pre class="r"><code># list default files with UTC time
aList &lt;- fListCompleteDT[dateColName == &quot;date UTC&quot; &amp; dateFormat %like% &quot;default&quot;, 
                         .(file, fSize, dateColName, dateExample, dateFormat)]

cap &lt;- paste0(&quot;First 10 (max) of &quot;, nrow(aList), 
              &quot; files with dateColName = &#39;date UTC&#39; and default dateFormat&quot;)

knitr::kable(caption = cap, head(aList, 10))</code></pre>
<table>
<colgroup>
<col width="30%" />
<col width="7%" />
<col width="11%" />
<col width="11%" />
<col width="38%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">file</th>
<th align="right">fSize</th>
<th align="left">dateColName</th>
<th align="left">dateExample</th>
<th align="left">dateFormat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">rf_06/10Apr2018-11Apr2018at1.csv</td>
<td align="right">156944</td>
<td align="left">date UTC</td>
<td align="left">2018-04-09</td>
<td align="left">ymd - default (but day/month value &lt;= 12)</td>
</tr>
<tr class="even">
<td align="left">rf_06/10Dec2017-11Dec2017at1.csv</td>
<td align="right">156601</td>
<td align="left">date UTC</td>
<td align="left">2017-12-09</td>
<td align="left">ymd - default (but day/month value &lt;= 12)</td>
</tr>
<tr class="odd">
<td align="left">rf_06/10Feb2018-11Feb2018at1.csv</td>
<td align="right">153353</td>
<td align="left">date UTC</td>
<td align="left">2018-02-09</td>
<td align="left">ymd - default (but day/month value &lt;= 12)</td>
</tr>
<tr class="even">
<td align="left">rf_06/10Jan2018-11Jan2018at1.csv</td>
<td align="right">153982</td>
<td align="left">date UTC</td>
<td align="left">2018-01-09</td>
<td align="left">ymd - default (but day/month value &lt;= 12)</td>
</tr>
<tr class="odd">
<td align="left">rf_06/10Jul2018-11Jul2018at1.csv</td>
<td align="right">158338</td>
<td align="left">date UTC</td>
<td align="left">2018-07-09</td>
<td align="left">ymd - default (but day/month value &lt;= 12)</td>
</tr>
<tr class="even">
<td align="left">rf_06/10Jun2018-11Jun2018at1.csv</td>
<td align="right">156641</td>
<td align="left">date UTC</td>
<td align="left">2018-06-09</td>
<td align="left">ymd - default (but day/month value &lt;= 12)</td>
</tr>
<tr class="odd">
<td align="left">rf_06/10Mar2018-11Mar2018at1.csv</td>
<td align="right">156471</td>
<td align="left">date UTC</td>
<td align="left">2018-03-09</td>
<td align="left">ymd - default (but day/month value &lt;= 12)</td>
</tr>
<tr class="even">
<td align="left">rf_06/10May2018-11May2018at1.csv</td>
<td align="right">156683</td>
<td align="left">date UTC</td>
<td align="left">2018-05-09</td>
<td align="left">ymd - default (but day/month value &lt;= 12)</td>
</tr>
<tr class="odd">
<td align="left">rf_06/10Nov2017-11Nov2017at1.csv</td>
<td align="right">155639</td>
<td align="left">date UTC</td>
<td align="left">2017-11-09</td>
<td align="left">ymd - default (but day/month value &lt;= 12)</td>
</tr>
<tr class="even">
<td align="left">rf_06/11Apr2018-12Apr2018at1.csv</td>
<td align="right">157181</td>
<td align="left">date UTC</td>
<td align="left">2018-04-10</td>
<td align="left">ymd - default (but day/month value &lt;= 12)</td>
</tr>
</tbody>
</table>
<p>After final cleaning, the final date formats are:</p>
<table style="width:100%;">
<colgroup>
<col width="35%" />
<col width="24%" />
<col width="4%" />
<col width="7%" />
<col width="6%" />
<col width="6%" />
<col width="6%" />
<col width="6%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">dateColName</th>
<th align="left">dateFormat</th>
<th align="right">nFiles</th>
<th align="left">meanFSizeKb</th>
<th align="left">minFSizeKb</th>
<th align="left">maxFSizeKb</th>
<th align="left">minFDate</th>
<th align="left">maxFDate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Unknown - ignore as fsize ( 2751 ) &lt; dataThreshold ( 3000 )</td>
<td align="left">NA</td>
<td align="right">1812</td>
<td align="left">2.686523</td>
<td align="left">2.686523</td>
<td align="left">2.686523</td>
<td align="left">2017-01-11</td>
<td align="left">2017-11-08</td>
</tr>
<tr class="even">
<td align="left">Unknown - ignore as fsize ( 43 ) &lt; dataThreshold ( 3000 )</td>
<td align="left">NA</td>
<td align="right">13117</td>
<td align="left">0.04199219</td>
<td align="left">0.04199219</td>
<td align="left">0.04199219</td>
<td align="left">2017-01-11</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="odd">
<td align="left">date NZ</td>
<td align="left">dmy - definite</td>
<td align="right">1</td>
<td align="left">4,097.157</td>
<td align="left">4,097.157</td>
<td align="left">4,097.157</td>
<td align="left">2016-09-29</td>
<td align="left">2016-09-29</td>
</tr>
<tr class="even">
<td align="left">date NZ</td>
<td align="left">mdy - definite</td>
<td align="right">2</td>
<td align="left">13,833.84</td>
<td align="left">9,067.765</td>
<td align="left">18,599.92</td>
<td align="left">2016-10-25</td>
<td align="left">2016-10-25</td>
</tr>
<tr class="odd">
<td align="left">date NZ</td>
<td align="left">ymd - default (but day/month value &lt;= 12)</td>
<td align="right">12</td>
<td align="left">16,862.1</td>
<td align="left">2,652.745</td>
<td align="left">27,267.51</td>
<td align="left">2016-09-20</td>
<td align="left">2016-10-13</td>
</tr>
<tr class="even">
<td align="left">date NZ</td>
<td align="left">ymd - definite</td>
<td align="right">67</td>
<td align="left">11,248.34</td>
<td align="left">228.9131</td>
<td align="left">31,502.92</td>
<td align="left">2016-09-19</td>
<td align="left">2016-10-13</td>
</tr>
<tr class="odd">
<td align="left">date UTC</td>
<td align="left">dmy - inferred</td>
<td align="right">28</td>
<td align="left">27,304.84</td>
<td align="left">569.8506</td>
<td align="left">53,282.66</td>
<td align="left">2016-05-25</td>
<td align="left">2017-11-21</td>
</tr>
<tr class="even">
<td align="left">date UTC</td>
<td align="left">ymd - default (but day/month value &lt;= 12)</td>
<td align="right">3957</td>
<td align="left">315.9203</td>
<td align="left">20.63379</td>
<td align="left">40,318.22</td>
<td align="left">2016-09-19</td>
<td align="left">2018-07-14</td>
</tr>
<tr class="odd">
<td align="left">date UTC</td>
<td align="left">ymd - definite</td>
<td align="right">6152</td>
<td align="left">292.2984</td>
<td align="left">21.20605</td>
<td align="left">50,810.54</td>
<td align="left">2016-06-08</td>
<td align="left">2018-08-01</td>
</tr>
</tbody>
</table>
<p>Results to note:</p>
<ul>
<li>The non-loaded files only have 2 distinct file sizes, confirming that they are unlikely to contain useful data.</li>
<li>There are a range of dateTme formats - these are fixed in the data cleaning process and all datesTimes have been set to UTC except where explicitly labelled. Note that R will load UTC data with the local timezone so if you re-use the data in New Zealand this will be correct. If you re-use the data outside New Zealand you will need to set the timezone accordingly or you will get thoroughly confused. We are not great fans of <a href="https://github.com/dataknut/nzGREENGridDataR/issues/2">timezones</a>.</li>
<li>Following detailed checks there are now 0 files which are still labelled as having ambiguous dates;</li>
</ul>
</div>
</div>
<div id="cleanData" class="section level1">
<h1><span class="header-section-number">4</span> Processed Data: Quality checks</h1>
<p>In this section we analyse the data files that have a file size &gt; 3000 bytes and which have been used to create the safe data. Things to note:</p>
<ul>
<li>As inidcated above, we assume that any files smaller than this value have no observations. This is based on:
<ul>
<li>Manual inspection of several small files</li>
<li>The identical (small) file sizes involved</li>
</ul></li>
<li>There was substantial duplication of observations, some of which was caused by the different date formats, especially where they run through Daylight Savings Time (DST) changes.</li>
</ul>
<p>The following table shows the number of files per grid spy ID that are actually processed to make the safe version together with the min/max file save dates (not the observed data dates).</p>
<pre class="r"><code># check files to load
t &lt;- fListCompleteDT[dateColName %like% &quot;date&quot;, .(nFiles = .N,
                       meanSize = mean(fSize),
                       minFileDate = min(fMDate),
                       maxFileDate = max(fMDate)), keyby = .(gridSpyID = hhID)]

knitr::kable(caption = &quot;Summary of household files to load&quot;, t)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">gridSpyID</th>
<th align="right">nFiles</th>
<th align="right">meanSize</th>
<th align="left">minFileDate</th>
<th align="left">maxFileDate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">rf_01</td>
<td align="right">3</td>
<td align="right">15548174.7</td>
<td align="left">2016-09-20</td>
<td align="left">2016-09-30</td>
</tr>
<tr class="even">
<td align="left">rf_02</td>
<td align="right">3</td>
<td align="right">10134268.3</td>
<td align="left">2016-09-20</td>
<td align="left">2016-09-30</td>
</tr>
<tr class="odd">
<td align="left">rf_06</td>
<td align="right">269</td>
<td align="right">594678.4</td>
<td align="left">2016-05-25</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="even">
<td align="left">rf_07</td>
<td align="right">269</td>
<td align="right">634734.7</td>
<td align="left">2016-05-25</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="odd">
<td align="left">rf_08</td>
<td align="right">5</td>
<td align="right">23989121.0</td>
<td align="left">2016-05-25</td>
<td align="left">2017-11-21</td>
</tr>
<tr class="even">
<td align="left">rf_09</td>
<td align="right">2</td>
<td align="right">14344605.0</td>
<td align="left">2016-09-21</td>
<td align="left">2016-09-21</td>
</tr>
<tr class="odd">
<td align="left">rf_10</td>
<td align="right">358</td>
<td align="right">525455.0</td>
<td align="left">2016-05-25</td>
<td align="left">2018-03-30</td>
</tr>
<tr class="even">
<td align="left">rf_11</td>
<td align="right">571</td>
<td align="right">385151.5</td>
<td align="left">2016-05-25</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="odd">
<td align="left">rf_12</td>
<td align="right">2</td>
<td align="right">10713096.0</td>
<td align="left">2016-09-21</td>
<td align="left">2016-09-21</td>
</tr>
<tr class="even">
<td align="left">rf_13</td>
<td align="right">503</td>
<td align="right">436966.1</td>
<td align="left">2016-05-25</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="odd">
<td align="left">rf_14</td>
<td align="right">329</td>
<td align="right">424262.0</td>
<td align="left">2016-06-08</td>
<td align="left">2017-12-31</td>
</tr>
<tr class="even">
<td align="left">rf_15</td>
<td align="right">2</td>
<td align="right">10553143.0</td>
<td align="left">2016-09-21</td>
<td align="left">2016-09-21</td>
</tr>
<tr class="odd">
<td align="left">rf_16</td>
<td align="right">1</td>
<td align="right">20037376.0</td>
<td align="left">2016-09-20</td>
<td align="left">2016-09-20</td>
</tr>
<tr class="even">
<td align="left">rf_17</td>
<td align="right">237</td>
<td align="right">359559.1</td>
<td align="left">2016-09-21</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="odd">
<td align="left">rf_18</td>
<td align="right">2</td>
<td align="right">14374309.5</td>
<td align="left">2016-09-21</td>
<td align="left">2016-09-21</td>
</tr>
<tr class="even">
<td align="left">rf_19</td>
<td align="right">571</td>
<td align="right">510715.1</td>
<td align="left">2016-05-25</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="odd">
<td align="left">rf_20</td>
<td align="right">2</td>
<td align="right">14665810.0</td>
<td align="left">2016-09-21</td>
<td align="left">2016-09-21</td>
</tr>
<tr class="even">
<td align="left">rf_21</td>
<td align="right">4</td>
<td align="right">23058797.8</td>
<td align="left">2016-05-25</td>
<td align="left">2016-10-12</td>
</tr>
<tr class="odd">
<td align="left">rf_22</td>
<td align="right">371</td>
<td align="right">533704.5</td>
<td align="left">2016-05-25</td>
<td align="left">2018-01-16</td>
</tr>
<tr class="even">
<td align="left">rf_23</td>
<td align="right">571</td>
<td align="right">398072.9</td>
<td align="left">2016-05-25</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="odd">
<td align="left">rf_24</td>
<td align="right">539</td>
<td align="right">401860.5</td>
<td align="left">2016-05-25</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="even">
<td align="left">rf_25</td>
<td align="right">3</td>
<td align="right">12341581.3</td>
<td align="left">2016-06-08</td>
<td align="left">2017-11-21</td>
</tr>
<tr class="odd">
<td align="left">rf_26</td>
<td align="right">477</td>
<td align="right">363087.9</td>
<td align="left">2016-05-25</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="even">
<td align="left">rf_27</td>
<td align="right">3</td>
<td align="right">22607698.7</td>
<td align="left">2016-05-25</td>
<td align="left">2016-09-21</td>
</tr>
<tr class="odd">
<td align="left">rf_28</td>
<td align="right">2</td>
<td align="right">2297483.0</td>
<td align="left">2016-06-08</td>
<td align="left">2016-09-19</td>
</tr>
<tr class="even">
<td align="left">rf_29</td>
<td align="right">561</td>
<td align="right">315512.4</td>
<td align="left">2016-05-25</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="odd">
<td align="left">rf_30</td>
<td align="right">5</td>
<td align="right">13695336.0</td>
<td align="left">2016-05-25</td>
<td align="left">2016-10-13</td>
</tr>
<tr class="even">
<td align="left">rf_31</td>
<td align="right">571</td>
<td align="right">313201.3</td>
<td align="left">2016-05-25</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="odd">
<td align="left">rf_32</td>
<td align="right">2</td>
<td align="right">13934454.0</td>
<td align="left">2016-06-08</td>
<td align="left">2016-09-20</td>
</tr>
<tr class="even">
<td align="left">rf_33</td>
<td align="right">530</td>
<td align="right">275592.6</td>
<td align="left">2016-06-08</td>
<td align="left">2018-06-22</td>
</tr>
<tr class="odd">
<td align="left">rf_34</td>
<td align="right">7</td>
<td align="right">14106275.3</td>
<td align="left">2016-05-25</td>
<td align="left">2016-10-13</td>
</tr>
<tr class="even">
<td align="left">rf_35</td>
<td align="right">134</td>
<td align="right">573648.6</td>
<td align="left">2016-05-25</td>
<td align="left">2017-11-21</td>
</tr>
<tr class="odd">
<td align="left">rf_36</td>
<td align="right">490</td>
<td align="right">282969.5</td>
<td align="left">2016-06-08</td>
<td align="left">2018-07-05</td>
</tr>
<tr class="even">
<td align="left">rf_37</td>
<td align="right">570</td>
<td align="right">279298.0</td>
<td align="left">2016-06-08</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="odd">
<td align="left">rf_38</td>
<td align="right">201</td>
<td align="right">385707.5</td>
<td align="left">2016-06-08</td>
<td align="left">2017-11-21</td>
</tr>
<tr class="even">
<td align="left">rf_39</td>
<td align="right">447</td>
<td align="right">336601.0</td>
<td align="left">2016-05-25</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="odd">
<td align="left">rf_40</td>
<td align="right">2</td>
<td align="right">9299902.0</td>
<td align="left">2016-06-08</td>
<td align="left">2016-09-20</td>
</tr>
<tr class="even">
<td align="left">rf_41</td>
<td align="right">562</td>
<td align="right">248760.0</td>
<td align="left">2016-06-08</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="odd">
<td align="left">rf_42</td>
<td align="right">45</td>
<td align="right">1315953.6</td>
<td align="left">2016-06-08</td>
<td align="left">2017-11-21</td>
</tr>
<tr class="even">
<td align="left">rf_43</td>
<td align="right">4</td>
<td align="right">9442492.0</td>
<td align="left">2016-05-25</td>
<td align="left">2016-09-28</td>
</tr>
<tr class="odd">
<td align="left">rf_44</td>
<td align="right">571</td>
<td align="right">313990.0</td>
<td align="left">2016-05-25</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="even">
<td align="left">rf_45</td>
<td align="right">4</td>
<td align="right">10513812.0</td>
<td align="left">2016-06-08</td>
<td align="left">2017-11-21</td>
</tr>
<tr class="odd">
<td align="left">rf_46</td>
<td align="right">411</td>
<td align="right">605048.1</td>
<td align="left">2016-06-08</td>
<td align="left">2018-02-21</td>
</tr>
<tr class="even">
<td align="left">rf_47</td>
<td align="right">3</td>
<td align="right">17544847.0</td>
<td align="left">2016-05-25</td>
<td align="left">2016-09-20</td>
</tr>
</tbody>
</table>
<div id="reallocation" class="section level2">
<h2><span class="header-section-number">4.1</span> Recoding re-allocated grid spy units</h2>
<p>As noted in the introduction, two units were re-allocated to new households during the study. These were:</p>
<ul>
<li>rf_15 - allocated to a new household on 20/1/2015</li>
<li>rf_17 - allocated to a new household on</li>
</ul>
<p>To avoid confusion the data for each of these units has been split in to rf_XXa/rf_XXb files on the appropriate dates during <a href="https://github.com/dataknut/nzGREENGridDataR/issues/3">data processing</a>. The clean data therefore contains data files for:</p>
<ul>
<li>rf_15a and rf_15b</li>
<li>rf_17a and rf_17b</li>
</ul>
<p>Each cleaned safe data file contains both the original hhID (i.e. the gird spy ID) and a new <code>linkID</code> which has the same value as hhID except in the case of these four files. The <code>linkID</code> variable should always be used to link the grid spy data to the survey or other household level data in the data package.</p>
<p>In all subsequent analysis we use <code>linkID</code> to give results for each household.</p>
</div>
<div id="observations" class="section level2">
<h2><span class="header-section-number">4.2</span> Observations</h2>
<p>The following plots show the number of observations per day per household. In theory we should not see:</p>
<ul>
<li>dates before 2014 or in to the future. These may indicate:
<ul>
<li>date conversion errors;</li>
</ul></li>
<li>more than 1440 observations per day. These may indicate:
<ul>
<li>duplicate time stamps - i.e. they have the same time stamps but different power (W) values or different circuit labels. These may be expected around the DST changes in April/September. These can be examined on a per household basis using the rf_xx_observationsRatioPlot.png plots to be found in the data package <em>checkPlots</em> folder;</li>
<li>observations from files that are in the ‘wrong’ rf_XX folder and so are included in the ‘wrong’ household as ‘duplicate’ time stamps.</li>
</ul></li>
</ul>
<p>If present both of the latter may have been implied by the table above and would have evaded the de-duplication filter which simply checks each complete row against all others within it’s consolidated household dataset (a <em>within household absolute duplicate</em> check).</p>
<p>Note that rf_15a is not present as no usable data was obtained from this household.</p>
<p><img src="gridSpy1mProcessingReport_files/figure-html/obsPlots-1.png" /><!-- --><img src="gridSpy1mProcessingReport_files/figure-html/obsPlots-2.png" /><!-- --></p>
<p>The following table shows the min/max number of observations per day and min/max dates for each household. As above, we should not see:</p>
<ul>
<li>dates before 2014 or in to the future (indicates date conversion errors);</li>
<li>less than 1440 observations per day (since we should have at least 1 circuit monitored for 24 * 60 = 1440 minutes);</li>
<li>non-integer counts of circuits as it suggests some circuit label errors or changes to the number of circuits monitored over time;</li>
<li>NA in any row (indicates date conversion errors).</li>
</ul>
<p>If we do see any of these then we still have data cleaning work to do!</p>
<table>
<thead>
<tr class="header">
<th align="left">linkID</th>
<th align="right">minObs</th>
<th align="right">maxObs</th>
<th align="right">meanN_Circuits</th>
<th align="left">minDate</th>
<th align="left">maxDate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">rf_01</td>
<td align="right">12</td>
<td align="right">8871</td>
<td align="right">6.00000</td>
<td align="left">2014-01-06</td>
<td align="left">2015-10-20</td>
</tr>
<tr class="even">
<td align="left">rf_02</td>
<td align="right">732</td>
<td align="right">8640</td>
<td align="right">6.00000</td>
<td align="left">2014-03-03</td>
<td align="left">2015-05-28</td>
</tr>
<tr class="odd">
<td align="left">rf_06</td>
<td align="right">2460</td>
<td align="right">8825</td>
<td align="right">6.00000</td>
<td align="left">2014-06-09</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="even">
<td align="left">rf_07</td>
<td align="right">882</td>
<td align="right">8893</td>
<td align="right">6.00000</td>
<td align="left">2014-07-14</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="odd">
<td align="left">rf_08</td>
<td align="right">1344</td>
<td align="right">8847</td>
<td align="right">6.00000</td>
<td align="left">2014-05-29</td>
<td align="left">2017-05-15</td>
</tr>
<tr class="even">
<td align="left">rf_09</td>
<td align="right">2466</td>
<td align="right">8915</td>
<td align="right">6.00000</td>
<td align="left">2014-07-14</td>
<td align="left">2015-07-16</td>
</tr>
<tr class="odd">
<td align="left">rf_10</td>
<td align="right">2040</td>
<td align="right">8840</td>
<td align="right">6.00000</td>
<td align="left">2014-07-09</td>
<td align="left">2018-03-29</td>
</tr>
<tr class="even">
<td align="left">rf_11</td>
<td align="right">2549</td>
<td align="right">8826</td>
<td align="right">6.00000</td>
<td align="left">2014-07-08</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="odd">
<td align="left">rf_12</td>
<td align="right">60</td>
<td align="right">8838</td>
<td align="right">6.00000</td>
<td align="left">2014-07-09</td>
<td align="left">2015-06-03</td>
</tr>
<tr class="even">
<td align="left">rf_13</td>
<td align="right">4925</td>
<td align="right">8934</td>
<td align="right">6.00000</td>
<td align="left">2014-06-06</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="odd">
<td align="left">rf_14</td>
<td align="right">732</td>
<td align="right">8868</td>
<td align="right">6.00000</td>
<td align="left">2014-07-14</td>
<td align="left">2017-12-30</td>
</tr>
<tr class="even">
<td align="left">rf_15b</td>
<td align="right">84</td>
<td align="right">8640</td>
<td align="right">6.00000</td>
<td align="left">2015-01-15</td>
<td align="left">2016-04-19</td>
</tr>
<tr class="odd">
<td align="left">rf_16</td>
<td align="right">3060</td>
<td align="right">8937</td>
<td align="right">6.00000</td>
<td align="left">2014-07-10</td>
<td align="left">2015-03-26</td>
</tr>
<tr class="even">
<td align="left">rf_17a</td>
<td align="right">3390</td>
<td align="right">8854</td>
<td align="right">6.00000</td>
<td align="left">2014-05-30</td>
<td align="left">2016-03-28</td>
</tr>
<tr class="odd">
<td align="left">rf_17b</td>
<td align="right">6</td>
<td align="right">8640</td>
<td align="right">6.00000</td>
<td align="left">2016-10-12</td>
<td align="left">2018-07-31</td>
</tr>
<tr class="even">
<td align="left">rf_18</td>
<td align="right">1116</td>
<td align="right">8849</td>
<td align="right">6.00000</td>
<td align="left">2014-05-30</td>
<td align="left">2015-06-11</td>
</tr>
<tr class="odd">
<td align="left">rf_19</td>
<td align="right">72</td>
<td align="right">13161</td>
<td align="right">9.00000</td>
<td align="left">2014-07-15</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="even">
<td align="left">rf_20</td>
<td align="right">3024</td>
<td align="right">8878</td>
<td align="right">6.00000</td>
<td align="left">2014-05-29</td>
<td align="left">2015-06-11</td>
</tr>
<tr class="odd">
<td align="left">rf_21</td>
<td align="right">1542</td>
<td align="right">8854</td>
<td align="right">6.00000</td>
<td align="left">2014-07-15</td>
<td align="left">2016-07-01</td>
</tr>
<tr class="even">
<td align="left">rf_22</td>
<td align="right">1002</td>
<td align="right">8873</td>
<td align="right">6.00000</td>
<td align="left">2014-06-06</td>
<td align="left">2018-01-15</td>
</tr>
<tr class="odd">
<td align="left">rf_23</td>
<td align="right">2370</td>
<td align="right">8816</td>
<td align="right">6.00000</td>
<td align="left">2014-05-26</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="even">
<td align="left">rf_24</td>
<td align="right">702</td>
<td align="right">8760</td>
<td align="right">6.00000</td>
<td align="left">2014-05-29</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="odd">
<td align="left">rf_25</td>
<td align="right">72</td>
<td align="right">8818</td>
<td align="right">6.00000</td>
<td align="left">2015-05-25</td>
<td align="left">2016-10-22</td>
</tr>
<tr class="even">
<td align="left">rf_26</td>
<td align="right">420</td>
<td align="right">8857</td>
<td align="right">6.00000</td>
<td align="left">2014-07-11</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="odd">
<td align="left">rf_27</td>
<td align="right">2610</td>
<td align="right">8873</td>
<td align="right">6.00000</td>
<td align="left">2014-07-28</td>
<td align="left">2016-05-14</td>
</tr>
<tr class="even">
<td align="left">rf_28</td>
<td align="right">4476</td>
<td align="right">8640</td>
<td align="right">6.00000</td>
<td align="left">2015-03-27</td>
<td align="left">2015-05-26</td>
</tr>
<tr class="odd">
<td align="left">rf_29</td>
<td align="right">5088</td>
<td align="right">8797</td>
<td align="right">6.00000</td>
<td align="left">2015-03-26</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="even">
<td align="left">rf_30</td>
<td align="right">5016</td>
<td align="right">8865</td>
<td align="right">6.00000</td>
<td align="left">2015-03-28</td>
<td align="left">2016-09-29</td>
</tr>
<tr class="odd">
<td align="left">rf_31</td>
<td align="right">2166</td>
<td align="right">8848</td>
<td align="right">6.00000</td>
<td align="left">2015-03-26</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="even">
<td align="left">rf_32</td>
<td align="right">2640</td>
<td align="right">8775</td>
<td align="right">6.00000</td>
<td align="left">2015-03-26</td>
<td align="left">2016-04-05</td>
</tr>
<tr class="odd">
<td align="left">rf_33</td>
<td align="right">90</td>
<td align="right">8888</td>
<td align="right">6.00000</td>
<td align="left">2015-03-24</td>
<td align="left">2018-06-21</td>
</tr>
<tr class="even">
<td align="left">rf_34</td>
<td align="right">204</td>
<td align="right">8825</td>
<td align="right">6.00000</td>
<td align="left">2014-11-04</td>
<td align="left">2016-08-24</td>
</tr>
<tr class="odd">
<td align="left">rf_35</td>
<td align="right">2394</td>
<td align="right">8839</td>
<td align="right">6.00000</td>
<td align="left">2015-03-23</td>
<td align="left">2017-05-17</td>
</tr>
<tr class="even">
<td align="left">rf_36</td>
<td align="right">72</td>
<td align="right">8787</td>
<td align="right">6.00000</td>
<td align="left">2015-03-24</td>
<td align="left">2018-07-04</td>
</tr>
<tr class="odd">
<td align="left">rf_37</td>
<td align="right">4584</td>
<td align="right">8824</td>
<td align="right">6.00000</td>
<td align="left">2015-03-24</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="even">
<td align="left">rf_38</td>
<td align="right">1062</td>
<td align="right">8861</td>
<td align="right">6.00000</td>
<td align="left">2015-03-25</td>
<td align="left">2017-08-22</td>
</tr>
<tr class="odd">
<td align="left">rf_39</td>
<td align="right">1490</td>
<td align="right">7381</td>
<td align="right">5.00000</td>
<td align="left">2015-03-28</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="even">
<td align="left">rf_40</td>
<td align="right">3798</td>
<td align="right">8849</td>
<td align="right">6.00000</td>
<td align="left">2015-03-25</td>
<td align="left">2015-11-22</td>
</tr>
<tr class="odd">
<td align="left">rf_41</td>
<td align="right">216</td>
<td align="right">9014</td>
<td align="right">6.00000</td>
<td align="left">2015-03-26</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="even">
<td align="left">rf_42</td>
<td align="right">72</td>
<td align="right">8819</td>
<td align="right">6.00000</td>
<td align="left">2015-03-24</td>
<td align="left">2017-02-18</td>
</tr>
<tr class="odd">
<td align="left">rf_43</td>
<td align="right">2340</td>
<td align="right">8741</td>
<td align="right">6.00000</td>
<td align="left">2015-03-27</td>
<td align="left">2015-10-19</td>
</tr>
<tr class="even">
<td align="left">rf_44</td>
<td align="right">5346</td>
<td align="right">8768</td>
<td align="right">6.00000</td>
<td align="left">2015-03-25</td>
<td align="left">2018-08-01</td>
</tr>
<tr class="odd">
<td align="left">rf_45</td>
<td align="right">4770</td>
<td align="right">8758</td>
<td align="right">6.00000</td>
<td align="left">2015-03-25</td>
<td align="left">2016-10-15</td>
</tr>
<tr class="even">
<td align="left">rf_46</td>
<td align="right">2526</td>
<td align="right">19357</td>
<td align="right">12.84489</td>
<td align="left">2015-03-27</td>
<td align="left">2018-02-20</td>
</tr>
<tr class="odd">
<td align="left">rf_47</td>
<td align="right">3156</td>
<td align="right">8818</td>
<td align="right">6.00000</td>
<td align="left">2015-03-25</td>
<td align="left">2016-05-08</td>
</tr>
</tbody>
</table>
<p>Finally we plot the total number of households for whom we have data on a given date. This gives an indication of the attrition rate. This chart is re-plotted in the <a href="ggOverviewReport.html#4_data_collection_duration">overall data package summary</a> coded by sample.</p>
<p><img src="gridSpy1mProcessingReport_files/figure-html/attritionPlot-1.png" /><!-- --></p>
</div>
<div id="circuit-label-checks" class="section level2">
<h2><span class="header-section-number">4.3</span> Circuit label checks</h2>
<p>The following table shows the number of files for each household with different circuit labels. In theory each grid spy id should only have one set of unique circuit labels. If not:</p>
<ul>
<li>some of the circuit labels for these households may have been changed during the data collection process;</li>
<li>some of the circuit labels may have character conversion errors which have changed the labels during the data collection process;</li>
<li>at least one file from one household has been saved to a folder containing data from a different household (unfortunately the raw data files do <em>not</em> contain household IDs in the data or the file names which would enable checking/preventative filtering). This will be visible in the table if two households appear to share <em>exactly</em> the same list of circuit labels.</li>
</ul>
<p>Some or all of these may be true at any given time.</p>
<table style="width:100%;">
<colgroup>
<col width="1%" />
<col width="80%" />
<col width="1%" />
<col width="2%" />
<col width="4%" />
<col width="4%" />
<col width="4%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">linkID</th>
<th align="left">circuitLabels</th>
<th align="right">nFiles</th>
<th align="right">nObs</th>
<th align="right">meanDailyPowerkW</th>
<th align="right">minDailyPowerkW</th>
<th align="right">maxDailyPowerkW</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">rf_01</td>
<td align="left">Kitchen power$1632, Heating$1633, Mains$1634, Lights$1635, Hot water$1636, Range$1637</td>
<td align="right">594</td>
<td align="right">5111157</td>
<td align="right">0.53</td>
<td align="right">-0.07</td>
<td align="right">13.56</td>
</tr>
<tr class="even">
<td align="left">rf_02</td>
<td align="left">Fridge$1572, Cooking Bath tile heat$1573, Hot Water$1574, Mains$1575, Heating$1576, Lights$1577</td>
<td align="right">415</td>
<td align="right">3487293</td>
<td align="right">0.22</td>
<td align="right">-0.33</td>
<td align="right">10.20</td>
</tr>
<tr class="odd">
<td align="left">rf_06</td>
<td align="left">Lighting$2244, Laundry, Downstairs &amp; Lounge$2245, Kitchen$2246, Oven &amp; Hob$2247, Hot Water - Controlled$2248, Incomer - Uncontrolled$2249</td>
<td align="right">1328</td>
<td align="right">11411167</td>
<td align="right">0.24</td>
<td align="right">-1.44</td>
<td align="right">8.95</td>
</tr>
<tr class="even">
<td align="left">rf_07</td>
<td align="left">Microwave$2721, Kitchen Appliances &amp; Laundry$2722, Workshop$2723, Oven$2724, Incomer 2 - Uncontrolled$2725, Incomer 1 - Uncontrolled$2726</td>
<td align="right">1425</td>
<td align="right">12061885</td>
<td align="right">0.16</td>
<td align="right">-0.83</td>
<td align="right">7.12</td>
</tr>
<tr class="odd">
<td align="left">rf_08</td>
<td align="left">Kitchen$2089, Laundry &amp; 2nd Fridge Freezer$2090, Oven &amp; Hob$2091, Heat Pump$2092, Incomer - Uncontrolled$2093, Hot Water - Controlled$2094</td>
<td align="right">1083</td>
<td align="right">9289503</td>
<td align="right">0.24</td>
<td align="right">0.00</td>
<td align="right">11.66</td>
</tr>
<tr class="even">
<td align="left">rf_09</td>
<td align="left">Kitchen Appliances$2727, Lounge, Dining &amp; Bedrooms$2728, Incomer 1 - Uncont - Inc Hob$2729, Incomer 2 - Uncont - Inc Oven$2730, Heat Pump &amp; Bedroom 2$2731, Laundry$2732</td>
<td align="right">368</td>
<td align="right">3167835</td>
<td align="right">0.18</td>
<td align="right">-0.04</td>
<td align="right">5.95</td>
</tr>
<tr class="odd">
<td align="left">rf_10</td>
<td align="left">Laundry &amp; Garage$2597, Heat Pump$2598, Incomer - All$2599, Oven$2600, Kitchen Appliances$2601, Bedrooms &amp; Lounge$2602</td>
<td align="right">1268</td>
<td align="right">10932797</td>
<td align="right">0.19</td>
<td align="right">-0.37</td>
<td align="right">9.86</td>
</tr>
<tr class="even">
<td align="left">rf_11</td>
<td align="left">Incomer - Uncontrolled$2585, Hot Water Cpbd Heater- Cont$2586, Spa - Uncontrolled$2587, Kitchen Appliances &amp; Laundry$2588, Hob$2589, Heat Pump &amp; Lounge$2590</td>
<td align="right">1481</td>
<td align="right">12763308</td>
<td align="right">0.15</td>
<td align="right">0.00</td>
<td align="right">10.94</td>
</tr>
<tr class="odd">
<td align="left">rf_12</td>
<td align="left">Incomer 2 - Uncontrolled$2625, Incomer 1 - Hot Water - Cont$2626, Incomer 3 - Uncontrolled$2627, Laundry, Fridge &amp; Microwave$2628, Oven$2629, Kitchen Appliances &amp; Lounge$2630</td>
<td align="right">289</td>
<td align="right">2389215</td>
<td align="right">0.18</td>
<td align="right">-1.40</td>
<td align="right">7.27</td>
</tr>
<tr class="even">
<td align="left">rf_13</td>
<td align="left">Hot Water - Controlled$2208, Incomer - Uncontrolled$2209, Oven &amp; Hob$2210, Upstairs Heat Pumps$2211, Downstairs (inc 1 Heat Pump)$2212, Kitchen &amp; Laundry$2213</td>
<td align="right">1516</td>
<td align="right">13080941</td>
<td align="right">0.39</td>
<td align="right">-3.97</td>
<td align="right">11.58</td>
</tr>
<tr class="odd">
<td align="left">rf_14</td>
<td align="left">Kitchen Appliances$2715, Power Outlets$2716, Incomer 2 - Uncont inc Oven$2717, Incomer 1 - Uncont inc Stove$2718, Hot Water - Controlled$2719, Laundry &amp; Microwave$2720</td>
<td align="right">1244</td>
<td align="right">10700939</td>
<td align="right">0.15</td>
<td align="right">-2.36</td>
<td align="right">6.48</td>
</tr>
<tr class="even">
<td align="left">rf_15b</td>
<td align="left">Laundry &amp; Kitchen Appliances$3951, Hot Water$3952, Oven$3953, Hob$3954, Incomer 2$3955, Incomer 1$3956</td>
<td align="right">276</td>
<td align="right">2345250</td>
<td align="right">0.33</td>
<td align="right">-1.16</td>
<td align="right">8.12</td>
</tr>
<tr class="odd">
<td align="left">rf_16</td>
<td align="left">Hot Water - Controlled$2679, Incomer 2 - Uncont inc Stove$2680, Incomer 1 - Uncont inc Oven$2681, Microwave &amp; Breadmaker$2682, Hallway &amp; Washing Machine$2683, Kitchen Appliances &amp; Bedrooms$2684</td>
<td align="right">260</td>
<td align="right">2234133</td>
<td align="right">0.12</td>
<td align="right">-0.27</td>
<td align="right">6.26</td>
</tr>
<tr class="even">
<td align="left">rf_17a</td>
<td align="left">Kitchen Appliances$2147, Heat Pump$2148, Laundry$2149, Hot Water - Controlled$2150, Incomer 2 - Uncont - inc Oven$2151, Incomer 1 - Uncont - inc Hob$2152</td>
<td align="right">669</td>
<td align="right">5760067</td>
<td align="right">0.11</td>
<td align="right">-1.13</td>
<td align="right">8.19</td>
</tr>
<tr class="odd">
<td align="left">rf_17b</td>
<td align="left">Incomer 1 - inc Top Oven$5620, Incomer 2 - inc Bottom Oven$5621, Lighting 2/2$5622, Lighting 1/2$5623, Laundry &amp; Garage$5624, Kitchen Appliances$5625</td>
<td align="right">257</td>
<td align="right">1632900</td>
<td align="right">0.09</td>
<td align="right">-0.10</td>
<td align="right">4.64</td>
</tr>
<tr class="even">
<td align="left">rf_18</td>
<td align="left">Incomer 1 - Uncontrolled$2128, Hot Water - Controlled$2129, Incomer 2 - Uncontrolled$2130, Kitchen Appliances &amp; Ventilati$2131, Oven$2132, Laundry &amp; Hob$2133</td>
<td align="right">378</td>
<td align="right">3243033</td>
<td align="right">0.33</td>
<td align="right">-2.58</td>
<td align="right">8.82</td>
</tr>
<tr class="odd">
<td align="left">rf_19</td>
<td align="left">PV 1$2739, Theatre Heat Pump$2740, Bedroom &amp; Lounge Heat Pumps$2741, PV 2$2733, Laundry$2734, Kitchen Appliances$2735, Oven$2736, Incomer 2 - All$2737, Incomer 1 - All$2738</td>
<td align="right">1</td>
<td align="right">5766</td>
<td align="right">-0.02</td>
<td align="right">-2.39</td>
<td align="right">2.06</td>
</tr>
<tr class="even">
<td align="left">rf_19</td>
<td align="left">PV 2$2733, Laundry$2734, Kitchen Appliances$2735, Oven$2736, Incomer 2 - All$2737, Incomer 1 - All$2738, PV 1$2739, Theatre Heat Pump$2740, Bedroom &amp; Lounge Heat Pumps$2741</td>
<td align="right">1471</td>
<td align="right">18977224</td>
<td align="right">-0.18</td>
<td align="right">-4.63</td>
<td align="right">5.28</td>
</tr>
<tr class="odd">
<td align="left">rf_20</td>
<td align="left">Heat Pump &amp; Misc$2107, Oven &amp; Kitchen Appliances$2108, Hob$2109, Hot Water - Controlled$2110, Incomer 2 - Uncontrolled$2111, Incomer 1 - Uncontrolled$2112</td>
<td align="right">379</td>
<td align="right">3260738</td>
<td align="right">0.21</td>
<td align="right">-3.15</td>
<td align="right">6.21</td>
</tr>
<tr class="even">
<td align="left">rf_21</td>
<td align="left">Incomer - All$2748, Oven$2749, Heat Pump &amp; Washing Machine$2750, Lower Bedrooms &amp; Bathrooms$2751, Fridge$2752, Kitchen Appliances &amp; Garage$2753</td>
<td align="right">704</td>
<td align="right">6061797</td>
<td align="right">0.14</td>
<td align="right">-0.03</td>
<td align="right">7.99</td>
</tr>
<tr class="odd">
<td align="left">rf_22</td>
<td align="left">Lighting$2232, Ventilation &amp; Lounge Power$2233, Kitchen &amp; Laundry$2234, Oven$2235, Hot Water - Controlled$2236, Incomer - Uncontrolled$2237</td>
<td align="right">1314</td>
<td align="right">11312684</td>
<td align="right">0.37</td>
<td align="right">-1.43</td>
<td align="right">15.50</td>
</tr>
<tr class="even">
<td align="left">rf_23</td>
<td align="left">Spa (HEMS)$2080, Hot Water - Controlled (HEMS)$2081, Incomer - Uncontrolled$2082, PV &amp; Storage$2083, Kitchen, Laundry &amp; Ventilation$2084, Oven$2085</td>
<td align="right">1525</td>
<td align="right">13086959</td>
<td align="right">0.26</td>
<td align="right">-2.12</td>
<td align="right">11.02</td>
</tr>
<tr class="odd">
<td align="left">rf_24</td>
<td align="left">Incomer - Uncontrolled$2101, Hot Water - Controlled$2102, Oven &amp; Hob$2103, Kitchen$2104, Laundry, Fridge &amp; Freezer$2105, PV$2106</td>
<td align="right">1469</td>
<td align="right">12645693</td>
<td align="right">-0.09</td>
<td align="right">-4.95</td>
<td align="right">6.93</td>
</tr>
<tr class="even">
<td align="left">rf_25</td>
<td align="left">Heat Pump$2758, Hob &amp; Kitchen Appliances$2759, Oven$2760, Hot Water - Controlled$2761, Incomer 2 - Uncontrolled $2762, Incomer 1 - Uncontrolled $2763</td>
<td align="right">507</td>
<td align="right">4237240</td>
<td align="right">0.27</td>
<td align="right">-0.04</td>
<td align="right">7.14</td>
</tr>
<tr class="odd">
<td align="left">rf_26</td>
<td align="left">Incomer 1 - All$2703, Incomer 2 - All$2704, Oven$2705, Kitchen Appliances$2706, Laundry, Sauna &amp; 2nd Fridge$2707, Spa$2708</td>
<td align="right">1369</td>
<td align="right">11632001</td>
<td align="right">0.21</td>
<td align="right">-1.27</td>
<td align="right">30.82</td>
</tr>
<tr class="even">
<td align="left">rf_27</td>
<td align="left">Incomer - Uncontrolled$2824, Hot Water - Controlled$2825, Heat Pump$2826, Oven &amp; Oven Wall Appliances$2827, Bed 2, 2nd Fridge$2828, Kitchen, Laundry &amp; Beds 1&amp;3$2829</td>
<td align="right">637</td>
<td align="right">5452235</td>
<td align="right">0.29</td>
<td align="right">-0.36</td>
<td align="right">27.76</td>
</tr>
<tr class="odd">
<td align="left">rf_28</td>
<td align="left">Kitchen Appliances$4216, Laundry$4217, Lighting$4218, Heat Pump$4219, PV &amp; Garage$4220, Incomer - All$4221</td>
<td align="right">61</td>
<td align="right">518062</td>
<td align="right">-0.07</td>
<td align="right">-3.57</td>
<td align="right">7.96</td>
</tr>
<tr class="even">
<td align="left">rf_29</td>
<td align="left">Incomer - Uncontrolled$4181, Oven$4182, Lighting$4183, Hot Water - Controlled$4184, Laundry$4185, Heat Pump &amp; Kitchen Appliances$4186</td>
<td align="right">1217</td>
<td align="right">10498747</td>
<td align="right">0.39</td>
<td align="right">-0.02</td>
<td align="right">8.89</td>
</tr>
<tr class="odd">
<td align="left">rf_30</td>
<td align="left">Kitchen Appliances$4234, Laundry &amp; Kitchen$4235, Lighting$4236, Oven &amp; Hobb$4237, Hot Water - Controlled$4238, Incomer - All$4239</td>
<td align="right">519</td>
<td align="right">4462859</td>
<td align="right">0.23</td>
<td align="right">-0.02</td>
<td align="right">8.71</td>
</tr>
<tr class="even">
<td align="left">rf_31</td>
<td align="left">Incomer - All$4199, Hot Water - Controlled$4200, Kitchen Appliances$4201, Laundry$4202, Lighting$4203, Heat Pump$4204</td>
<td align="right">1224</td>
<td align="right">10561695</td>
<td align="right">0.18</td>
<td align="right">0.00</td>
<td align="right">10.55</td>
</tr>
<tr class="odd">
<td align="left">rf_32</td>
<td align="left">Incomer - All$4193, Laundry$4194, Kitchen Appliances$4195, Heat Pump$4196, Lighting$4197, Hot Water - Controlled$4198</td>
<td align="right">377</td>
<td align="right">3246891</td>
<td align="right">0.20</td>
<td align="right">0.00</td>
<td align="right">8.27</td>
</tr>
<tr class="even">
<td align="left">rf_33</td>
<td align="left">Laundry &amp; Teenagers Bedroom$4139, Kitchen Appliances &amp; Heat Pump$4140, Oven, Hob &amp; Microwave$4141, Lighting$4142, Incomer - Uncontrolled$4143, Hot Water - Controlled$4144</td>
<td align="right">1117</td>
<td align="right">9608753</td>
<td align="right">0.20</td>
<td align="right">0.00</td>
<td align="right">9.53</td>
</tr>
<tr class="odd">
<td align="left">rf_34</td>
<td align="left">Lighting$4222, Heat Pump$4223, Hot Water - Uncontrolled$4224, Incomer - All$4225, Kitchen Appliances$4226, Laundry &amp; Garage Freezer$4227</td>
<td align="right">511</td>
<td align="right">4383672</td>
<td align="right">0.35</td>
<td align="right">-0.40</td>
<td align="right">13.04</td>
</tr>
<tr class="even">
<td align="left">rf_35</td>
<td align="left">Kitchen Appliances$4121, Laundry, Garage Fridge Freezer$4122, Lighting$4123, Heat Pump$4124, Hot Water - Uncontrolled$4125, Incomer - Uncontrolled$4126</td>
<td align="right">547</td>
<td align="right">4692059</td>
<td align="right">0.28</td>
<td align="right">-0.99</td>
<td align="right">7.62</td>
</tr>
<tr class="odd">
<td align="left">rf_36</td>
<td align="left">Kitchen Appliances$4145, Washing Machine$4146, Hot Water - Uncontrolled$4147, Incomer - All$4148, Lighting$4149, Heat Pump$4150</td>
<td align="right">1128</td>
<td align="right">9634326</td>
<td align="right">0.22</td>
<td align="right">-0.03</td>
<td align="right">14.83</td>
</tr>
<tr class="even">
<td align="left">rf_37</td>
<td align="left">Lighting$4133, Heat Pump$4134, Hot Water - Controlled$4135, Incomer -Uncontrolled$4136, Kitchen Appliances$4137, Laundry &amp; Fridge Freezer$4138</td>
<td align="right">1226</td>
<td align="right">10580628</td>
<td align="right">0.14</td>
<td align="right">-0.06</td>
<td align="right">6.68</td>
</tr>
<tr class="odd">
<td align="left">rf_38</td>
<td align="left">Heat Pump$4175, Lighting$4176, Incomer - Uncontrolled$4177, Hot Water - Controlled$4178, Kitchen, Dining &amp; Office$4179, Laundry, Lounge, Garage, Bed$4180</td>
<td align="right">621</td>
<td align="right">5319113</td>
<td align="right">0.26</td>
<td align="right">-0.18</td>
<td align="right">6.68</td>
</tr>
<tr class="even">
<td align="left">rf_39</td>
<td align="left">Kitchen Appliances$4244, Lighting &amp; 2 Towel Rail$4245, Oven$4246, Hot Water (2 elements)$4247, Incomer - Uncontrolled$4248</td>
<td align="right">1072</td>
<td align="right">7686876</td>
<td align="right">0.49</td>
<td align="right">-1.11</td>
<td align="right">12.48</td>
</tr>
<tr class="odd">
<td align="left">rf_40</td>
<td align="left">Kitchen Appliances$4163, Laundry$4164, Lighting$4165, Heat Pump (x2) &amp; Lounge Power$4166, Hot Water - Controlled$4167, Incomer - Uncontrolled$4168</td>
<td align="right">243</td>
<td align="right">2089674</td>
<td align="right">0.30</td>
<td align="right">-0.59</td>
<td align="right">10.70</td>
</tr>
<tr class="even">
<td align="left">rf_41</td>
<td align="left">Kitchen Appliances$4187, Laundry$4188, Lighting$4189, Heat Pump$4190, Oven$4191, Incomer - All$4192</td>
<td align="right">968</td>
<td align="right">8238759</td>
<td align="right">0.28</td>
<td align="right">0.00</td>
<td align="right">11.87</td>
</tr>
<tr class="odd">
<td align="left">rf_42</td>
<td align="left">Kitchen Appliances$4127, Laundry &amp; Freezer$4128, Lighting (inc heat lamps)$4129, Heat Pump$4130, Hot Water - Uncontrolled$4131, Incomer - All$4132</td>
<td align="right">686</td>
<td align="right">5851654</td>
<td align="right">0.39</td>
<td align="right">-0.06</td>
<td align="right">12.38</td>
</tr>
<tr class="even">
<td align="left">rf_43</td>
<td align="left">Kitchen Appliances$4210, Heat Pump$4211, Lighting$4212, Incomer - All$4213, Oven$4214, Laundry, Garage &amp; Guest Bed$4215</td>
<td align="right">207</td>
<td align="right">1777241</td>
<td align="right">0.18</td>
<td align="right">-0.13</td>
<td align="right">6.69</td>
</tr>
<tr class="odd">
<td align="left">rf_44</td>
<td align="left">Kitchen Appliances$4151, Laundry $4152, Lighting$4153, Heat Pump$4154, Hot Water - Controlled$4155, Incomer - Uncontrolled$4156</td>
<td align="right">1225</td>
<td align="right">10572377</td>
<td align="right">0.24</td>
<td align="right">-0.02</td>
<td align="right">9.00</td>
</tr>
<tr class="even">
<td align="left">rf_45</td>
<td align="left">Incomer - Uncontrolled$4157, Hot Water - Controlled$4158, Lighting$4159, Heat Pump$4160, Kitchen Appliances$4161, Laundry &amp; Garage Fridge$4162</td>
<td align="right">571</td>
<td align="right">4917962</td>
<td align="right">0.18</td>
<td align="right">0.00</td>
<td align="right">7.61</td>
</tr>
<tr class="odd">
<td align="left">rf_46</td>
<td align="left">Laundry &amp; Bedrooms$4228, Kitchen &amp; Bedrooms$4229, Incomer - Uncontrolled$4230, Hot Water - Controlled$4231, Heat Pumps (2x) &amp; Power$4232, Lighting$4233</td>
<td align="right">23</td>
<td align="right">180149</td>
<td align="right">0.26</td>
<td align="right">0.00</td>
<td align="right">6.69</td>
</tr>
<tr class="even">
<td align="left">rf_46</td>
<td align="left">Laundry &amp; Bedrooms$4228, Kitchen &amp; Bedrooms$4229, Incomer - Uncontrolled$4230, Hot Water - Controlled$4231, Heat Pumps (2x) &amp; Power$4232, Lighting$4233, Heat Pumps (2x) &amp; Power$4399, Hot Water - Controlled$4400, Incomer - Uncontrolled$4401, Kitchen &amp; Bedrooms$4402, Laundry &amp; Bedrooms$4403, Lighting$4404, Incomer Voltage$4405</td>
<td align="right">1015</td>
<td align="right">18922974</td>
<td align="right">0.23</td>
<td align="right">-0.48</td>
<td align="right">10.96</td>
</tr>
<tr class="odd">
<td align="left">rf_47</td>
<td align="left">Wall Oven$4169, Incomer - All$4170, Heat Pump &amp; 2 x Bathroom Heat$4171, Lighting$4172, Laundry, Garage &amp; 2 Bedrooms$4173, Kitchen Power &amp; Heat, Lounge$4174</td>
<td align="right">411</td>
<td align="right">3530065</td>
<td align="right">0.12</td>
<td align="right">-0.02</td>
<td align="right">11.17</td>
</tr>
</tbody>
</table>
<p>Things to note:</p>
<ul>
<li>rf_25 has an aditional unexpected “Incomer 1 - Uncontrolled$2757” circuit in some files but it’s value is always NA so it has been ignored.</li>
<li>rf_46 had multiple circuit labels caused by apparent typos. These have been <a href="https://github.com/dataknut/nzGREENGridDataR/issues/1">re-labelled</a> but note that this is the only household to have 13 circuits monitored.</li>
</ul>
<p>Errors are easier to spot in the following plot where a household spans 2 or more circuit label sets.</p>
<p><img src="gridSpy1mProcessingReport_files/figure-html/plotCircuitLabelIssuesAsTile-1.png" /><!-- --></p>
<p>If the above plot and table flag errors then further re-naming of the circuit labels may be necessary.</p>
</div>
</div>
<div id="runtime" class="section level1">
<h1><span class="header-section-number">5</span> Runtime</h1>
<p>Analysis completed in 58 seconds ( 0.97 minutes) using <a href="https://cran.r-project.org/package=knitr">knitr</a> in <a href="http://www.rstudio.com">RStudio</a> with R version 3.5.0 (2018-04-23) running on x86_64-apple-darwin15.6.0.</p>
</div>
<div id="r-environment" class="section level1">
<h1><span class="header-section-number">6</span> R environment</h1>
<p>R packages used:</p>
<ul>
<li>base R - for the basics <span class="citation">(R Core Team 2016)</span></li>
<li>data.table - for fast (big) data handling <span class="citation">(Dowle et al. 2015)</span></li>
<li>lubridate - date manipulation <span class="citation">(Grolemund and Wickham 2011)</span></li>
<li>ggplot2 - for slick graphics <span class="citation">(Wickham 2009)</span></li>
<li>readr - for csv reading/writing <span class="citation">(Wickham, Hester, and Francois 2016)</span></li>
<li>dplyr - for select and contains <span class="citation">(Wickham and Francois 2016)</span></li>
<li>progress - for progress bars <span class="citation">(Csárdi and FitzJohn 2016)</span></li>
<li>knitr - to create this document &amp; neat tables <span class="citation">(Xie 2016)</span></li>
<li>kableExtra - for extra neat tables <span class="citation">(Zhu 2018)</span></li>
<li>nzGREENGridDataR - for local NZ GREEN Grid project utilities</li>
</ul>
<p>Session info:</p>
<pre><code>## R version 3.5.0 (2018-04-23)
## Platform: x86_64-apple-darwin15.6.0 (64-bit)
## Running under: macOS High Sierra 10.13.6
## 
## Matrix products: default
## BLAS: /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib
## LAPACK: /Library/Frameworks/R.framework/Versions/3.5/Resources/lib/libRlapack.dylib
## 
## locale:
## [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] Hmisc_4.1-1            Formula_1.2-3          survival_2.42-6       
##  [4] lattice_0.20-35        lubridate_1.7.4        kableExtra_0.9.0      
##  [7] stringr_1.3.1          knitr_1.20             readr_1.1.1           
## [10] ggplot2_3.0.0          data.table_1.11.4      rmarkdown_1.10        
## [13] nzGREENGridDataR_0.1.0
## 
## loaded via a namespace (and not attached):
##  [1] httr_1.3.1          maps_3.3.0          viridisLite_0.3.0  
##  [4] splines_3.5.0       assertthat_0.2.0    sp_1.3-1           
##  [7] highr_0.7           latticeExtra_0.6-28 cellranger_1.1.0   
## [10] yaml_2.2.0          progress_1.2.0      pillar_1.3.0       
## [13] backports_1.1.2     glue_1.3.0          digest_0.6.15      
## [16] RColorBrewer_1.1-2  checkmate_1.8.5     rvest_0.3.2        
## [19] colorspace_1.3-2    htmltools_0.3.6     Matrix_1.2-14      
## [22] plyr_1.8.4          pkgconfig_2.0.1     bookdown_0.7       
## [25] purrr_0.2.5         scales_0.5.0        jpeg_0.1-8         
## [28] openssl_1.0.2       ggmap_2.6.1         htmlTable_1.12     
## [31] tibble_1.4.2        withr_2.1.2         nnet_7.3-12        
## [34] lazyeval_0.2.1      cli_1.0.0           proto_1.0.0        
## [37] magrittr_1.5        crayon_1.3.4        readxl_1.1.0       
## [40] evaluate_0.11       fansi_0.2.3         xml2_1.2.0         
## [43] foreign_0.8-71      tools_3.5.0         prettyunits_1.0.2  
## [46] hms_0.4.2           geosphere_1.5-7     RgoogleMaps_1.4.2  
## [49] munsell_0.5.0       cluster_2.0.7-1     bindrcpp_0.2.2     
## [52] compiler_3.5.0      rlang_0.2.1         grid_3.5.0         
## [55] rstudioapi_0.7      rjson_0.2.20        htmlwidgets_1.2    
## [58] labeling_0.3        base64enc_0.1-3     gtable_0.2.0       
## [61] reshape2_1.4.3      R6_2.2.2            gridExtra_2.3      
## [64] dplyr_0.7.6         utf8_1.1.4          bindr_0.1.1        
## [67] rprojroot_1.3-2     nzGREENGrid_0.1.0   stringi_1.2.4      
## [70] Rcpp_0.12.18        mapproj_1.2.6       rpart_4.1-13       
## [73] acepack_1.4.1       png_0.1-7           tidyselect_0.2.4   
## [76] xfun_0.3</code></pre>
</div>
<div id="references" class="section level1 unnumbered">
<h1>References</h1>
<div id="refs" class="references">
<div id="ref-progress">
<p>Csárdi, Gábor, and Rich FitzJohn. 2016. <em>Progress: Terminal Progress Bars</em>. <a href="https://CRAN.R-project.org/package=progress" class="uri">https://CRAN.R-project.org/package=progress</a>.</p>
</div>
<div id="ref-data.table">
<p>Dowle, M, A Srinivasan, T Short, S Lianoglou with contributions from R Saporta, and E Antonyan. 2015. <em>Data.table: Extension of Data.frame</em>. <a href="https://CRAN.R-project.org/package=data.table" class="uri">https://CRAN.R-project.org/package=data.table</a>.</p>
</div>
<div id="ref-lubridate">
<p>Grolemund, Garrett, and Hadley Wickham. 2011. “Dates and Times Made Easy with lubridate.” <em>Journal of Statistical Software</em> 40 (3): 1–25. <a href="http://www.jstatsoft.org/v40/i03/" class="uri">http://www.jstatsoft.org/v40/i03/</a>.</p>
</div>
<div id="ref-baseR">
<p>R Core Team. 2016. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/" class="uri">https://www.R-project.org/</a>.</p>
</div>
<div id="ref-ggplot2">
<p>Wickham, Hadley. 2009. <em>Ggplot2: Elegant Graphics for Data Analysis</em>. Springer-Verlag New York. <a href="http://ggplot2.org" class="uri">http://ggplot2.org</a>.</p>
</div>
<div id="ref-dplyr">
<p>Wickham, Hadley, and Romain Francois. 2016. <em>Dplyr: A Grammar of Data Manipulation</em>. <a href="https://CRAN.R-project.org/package=dplyr" class="uri">https://CRAN.R-project.org/package=dplyr</a>.</p>
</div>
<div id="ref-readr">
<p>Wickham, Hadley, Jim Hester, and Romain Francois. 2016. <em>Readr: Read Tabular Data</em>. <a href="https://CRAN.R-project.org/package=readr" class="uri">https://CRAN.R-project.org/package=readr</a>.</p>
</div>
<div id="ref-knitr">
<p>Xie, Yihui. 2016. <em>Knitr: A General-Purpose Package for Dynamic Report Generation in R</em>. <a href="https://CRAN.R-project.org/package=knitr" class="uri">https://CRAN.R-project.org/package=knitr</a>.</p>
</div>
<div id="ref-kableExtra">
<p>Zhu, Hao. 2018. <em>KableExtra: Construct Complex Table with ’Kable’ and Pipe Syntax</em>. <a href="https://CRAN.R-project.org/package=kableExtra" class="uri">https://CRAN.R-project.org/package=kableExtra</a>.</p>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
